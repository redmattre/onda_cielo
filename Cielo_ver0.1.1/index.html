<!doctype html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cielo</title>
    <script type="module" crossorigin src="/assets/index-gV2W05th.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-HIU7tAHe.css">
  </head>
  <body>

    <div class="bottonieraSotto" id="bottonieraSotto">
      <div class="visualizzazione" id="visualizzazione">
        Prospettiva
      </div>
    </div>

    <div class="dockTasti">
      <div class="dockTastiHighlight hide" id="dockTastiHighlight"></div>
      <button title="sposta (g); (esc) per uscire" id="moveButton" class="topButtons" style="display: none;">&#10021;</button>
      <button title="ruota (r); (esc) per uscire" id="rotateButton" class="topButtons" style="display: none;">R</button>
      <button title="scala (s); (esc) per uscire" id="scaleButton" class="topButtons" style="display: none;">S</button>
      <button title="chiudi trasformazione" id="toggleTransButton" class="topButtons" style="display: none;">⏚</button>
      <button title="aggiungi aureola" id="addHalo">❍</button>
      <button id="addCloudElement" style="display: none;">☁</button>
      <button title="aggiungi altoparlante" id="addCone">⊚</button>
      <button id="addZone">⛶</button>
      <button title="aggiungi orifonte" id="addArrow">➞</button>
      <button title="aggiungi omnifonte" id="addSphere">⬤</button>
      <button title="toggle cursore POV" id="addPovCursor">pov</button>
      <button title="menu di oggetti nella scena" id="seeItemsList">▤</button>
    </div>
    
    <div id="black-panel">
      <div class="panel-tabs">
        <button class="panel-tab active" data-panel="generali">G</button>
        <button class="panel-tab" data-panel="plastico">P</button>
        <button class="panel-tab" data-panel="carica">C</button>
        <button class="panel-tab" data-panel="zone">Z</button>
        <button class="panel-tab" data-panel="altoparlanti">A</button>
        <button class="panel-tab" data-panel="corone">Co</button>
      </div>
      <div class="container">
        <div class="panel-section panel-content" data-panel-content="generali" style="display:block;">
          <div class="panel-title">Generali</div>
          <div class="switch-wrapper">
            <label class="switch">
              <input type="checkbox" data-id="theme"/>
              <div></div>
            </label>
            <span class="switch-label">Tema Eco</span>
          </div>
          <div class="switch-wrapper">
            <label class="switch">
              <input type="checkbox" data-id="gridSnapState" checked/>
              <div></div>
            </label>
            <span class="switch-label">Aggancio Griglia</span>
          </div>
          <div class="input-wrapper">
            <label class="multitoggle">
              <input type='range' min='1' max='3' value='2' step='1' class="n n3" data-id="snapDefinition"/>
            </label>
          </div>
          <div class="switch-wrapper">
            <label class="switch">
              <input type="checkbox" data-id="lock"/>
              <div></div>
            </label>
            <span class="switch-label">Diorama</span>
          </div>
          <div class="switch-wrapper">
            <label class="switch">
              <input type="checkbox" data-id="grid" checked/>
              <div></div>
            </label>
            <span class="switch-label">Super Superficie</span>
          </div>
          <div class="input-wrapper">
            <label class="multitoggle">
              <input type='range' min='1' max='4' value='2' step='1' class="n n4" data-id="gridsize"/>
            </label>
          </div>
          <!-- Bottoni import preset -->
          <div class="input-wrapper">
            <button id="loadSpeakersPresetBtn" class="menuButton">Load Speakers</button>
          </div>
          <div class="input-wrapper">
            <button id="saveSpeakersPresetBtn" class="menuButton">Save Speakers</button>
          </div>
          <div class="input-wrapper">
            <button id="loadSourcesPresetBtn" class="menuButton">Load Sources</button>
          </div>
          <div class="input-wrapper">
            <button id="saveSourcesPresetBtn" class="menuButton">Save Sources</button>
          </div>
          <div class="input-wrapper">
            <button id="resetSceneBtn" class="menuButton">Empty</button>
          </div>
        </div>

        <div class="panel-section panel-content" data-panel-content="plastico" style="display:none;">
          <div class="panel-title">Plastico</div>
          <button class="menuButton" id="loadPlastico">Carica</button>
          <div class="switch-wrapper">
            <label class="switch">
              <input type="checkbox" data-id="archVisibility" checked/>
              <div></div>
            </label>
            <span class="switch-label">⏿</span>
          </div>
          <label class="multitoggle">
            <span class="slider-label">Threshold</span>
            <div class="input-wrapper">
              <input type='range' min='0' max='120' value='60' step='1' class="n n4" id="plasticoThreshold"/>
            </div>
          </label>
          <label class="multitoggle">
            <span class="slider-label">Line Thickness</span>
            <div class="input-wrapper">
              <input type='range' min='0.5' max='10' value='2' step='0.1' class="n n4" id="plasticoThickness"/>
            </div>
          </label>
          <label class="multitoggle">
            <span class="slider-label">Opacity</span>
            <div class="input-wrapper">
              <input type='range' min='0.1' max='1.0' value='0.8' step='0.01' class="n n4" id="plasticoOpacity"/>
            </div>
          </label>
        </div>

        <div class="panel-section panel-content" data-panel-content="carica" style="display:none;">
          <div class="panel-title">Carica Modello</div>
          <button class="button menuButton" id="loadGenericGltf">Carica</button>
        </div>

        <div class="panel-section panel-content" data-panel-content="zone" style="display:none;">
          <div class="panel-title">Zone</div>
          <div class="switch-wrapper">
            <label class="switch">
              <input type="checkbox" data-id="zoneVisibility" checked/>
              <div></div>
            </label>
            <span class="switch-label">⏿</span>
          </div>
        </div>

        <div class="panel-section panel-content" data-panel-content="altoparlanti" style="display:none;">
          <div class="panel-title">Altoparlanti</div>
          <div class="switch-wrapper">
            <label class="switch">
              <input type="checkbox" data-id="speakersVisibility" checked/>
              <div></div>
            </label>
            <span class="switch-label">⏿</span>
          </div>
        </div>

        <div class="panel-section panel-content" data-panel-content="corone" style="display:none;">
          <div class="panel-title">Corone</div>
          <div class="switch-wrapper">
            <label class="switch">
              <input type="checkbox" data-id="speakersVisibility" checked/>
              <div></div>
            </label>
            <span class="switch-label">⏿</span>
          </div>
        </div>

      </div>
    </div>

    <div id="infoDivTopLeft">---</div>

    <div id="infoDivBottomLeft">---</div>
    <div id="transTriangle"></div>

    <div id="infoDivCenter">
      <button id="addZoneCube" class="centeredButton">⬚</button>
      <button id="addZoneSphere" class="centeredButton">◌</button>
      <button id="closeInfoDivCenter">X</button>
    </div>

    <div id="menuList"></div>

    <!-- Bottone tre puntini per aprire il menu laterale -->
    <button id="openSideMenu">&#8226; &#8226; &#8226;</button>

    <div id="selection-rectangle" style="position:fixed; pointer-events:none; border:1.5px dashed #4488ff; background:rgba(68,136,255,0.08); display:none; z-index:1000;"></div>

    <div id="scene-mask"></div>
    <div id="scene-mask-blur"></div>

    <script>
      // Gestione selezione tab pannello destro
      document.addEventListener('DOMContentLoaded', function() {
        const tabs = document.querySelectorAll('.panel-tab');
        const panels = document.querySelectorAll('.panel-content');
        tabs.forEach(tab => {
          tab.addEventListener('click', function() {
            tabs.forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            panels.forEach(panel => {
              panel.style.display = (panel.getAttribute('data-panel-content') === tab.getAttribute('data-panel')) ? 'block' : 'none';
            });
          });
        });
      });
    </script>
  </body>
</html>
</html>
